(()=>{"use strict";const e=new class{audioContext;tracks=[];slowAverage=39;fx1a=null;fx1b=null;loadedFiles=0;constructor(){this.audioContext=new AudioContext}async initAudio(e){if(16!==e.length)throw new Error("Expected 16 audio files.");const t=e.map((e=>this.loadAudioFile(e)));(await Promise.all(t)).forEach((e=>{const t=this.audioContext.createBufferSource(),n=this.audioContext.createGain();t.buffer=e,n.gain.value=0,t.connect(n);const o=this.audioContext.createAnalyser();o.fftSize=2048,n.connect(o),this.fx1a=this.audioContext.createBiquadFilter(),this.fx1a.type="highpass",this.fx1a.frequency.value=1e3,this.fx1a.gain.value=0,n.connect(this.fx1a),this.fx1b=this.audioContext.createDelay(),this.fx1b.delayTime.value=0,this.fx1a.connect(this.fx1b),n.connect(this.audioContext.destination),this.tracks.push({sourceNode:t,gainNode:n,analyserNode:o}),t.loop=!0,t.start(0)}))}async loadAudioFile(e){const t=await fetch(e),n=await t.arrayBuffer();return this.loadedFiles++,console.log(`Loaded ${this.loadedFiles} files.`),this.audioContext.decodeAudioData(n)}getFrequencyColor(e){if(0===this.tracks[e].gainNode.gain.value)return`hsl(${this.slowAverage+e}, 100%, 50%)`;const t=this.tracks[e].analyserNode,n=new Uint8Array(t.frequencyBinCount);t.getByteFrequencyData(n);const o=Math.max(...n),i=n.indexOf(o);return this.updateSlowAverage(i),`hsl(${this.slowAverage+e+10*i%240}, 100%, 50%)`}updateSlowAverage(e){this.slowAverage=this.slowAverage+.001*e%240}enableTrack(e,t){if(-1!=e){if(e>=this.tracks.length)throw new Error(`Track ${e} does not exist.`);this.tracks[e].gainNode.gain.value=t?.5:0}}muteAll(){for(let e=0;e<this.tracks.length;e++)this.enableTrack(e,!1)}fx1(e,t){if(0!=e&&0!=t&&Math.random()>.1)return;if(!this.fx1a||!this.fx1b)return;console.log("fx1 called with x:",e,"y:",t),console.log("AudioContext state:",this.audioContext.state),console.log("Current time:",this.audioContext.currentTime),console.log("Applying gain:",25*e,"to fx1a");const n=Math.floor(10*e);this.fx1a.gain.setValueAtTime(n,this.audioContext.currentTime),this.fx1b.delayTime.setValueAtTime(t,this.audioContext.currentTime),console.log(this.fx1a,this.fx1b)}},t=16;var n=!1,o=null,i={width:0,height:0};function s(e){if("undefined"!=typeof TouchEvent&&e instanceof TouchEvent&&(e.touches||e.changedTouches)){const t=e.touches.length>0?e.touches:e.changedTouches;return{x:t[0].clientX,y:t[0].clientY}}if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};throw new Error("Unsupported event type")}function a(e,t,n,o){const i=document.createElement(e);return i.classList.add(t),i.id=n,o.appendChild(i),i}function r(e){document.querySelectorAll(".ball").forEach((t=>{t.style.display=e?"block":"none"}))}function c(e){if(!e)return-1;const t=e.split("square-");return t.length<2?-1:parseInt(t[1])}function d(e){if(e)a("div","spinner","spinner",document.body),o=a("progress","progress","progress",document.body),setTimeout(l,100);else{const e=document.getElementById("spinner");e?.remove(),o?.remove()}}function l(){if(!o)return;const t=e.loadedFiles/16;console.log("Progress:",t),o.setAttribute("value",t.toString()),1!=t&&setTimeout(l,100)}function u(){const o=document.getElementById("start-button"),l=document.getElementById("info-1"),u=document.getElementById("info-2");o?.addEventListener("click",(async()=>{o.remove(),l?.remove(),u?.remove(),d(!0),await async function(){n||(await e.initAudio(["stems/4-on-floor.wav","stems/dnb-124.wav","stems/drums.wav","stems/hats.wav","stems/kick-hat.wav","stems/toms.wav","stems/smooth-chords.wav","stems/bass.wav","stems/bzzz.wav","stems/guitar.wav","stems/dnb-124.wav","stems/drums.wav","stems/hats.wav","stems/keep-on.wav","stems/what-u-doin-to-me.wav","stems/extacy.wav"]),n=!0)}(),d(!1),function(){const e=a("div","matrix","matrix",document.body);for(let n=0;n<t;n++)a("div","square",`square-${n}`,e);const n=a("div","ballhome","ballhome",document.body);for(let e=0;e<4;e++){const t=a("div","ball",`ball-${e}`,n);t.draggable=!0,t.innerText="ðŸŒˆ"}}(),function(){const t=document.querySelectorAll(".ball");var n=!1;t.forEach((t=>{function n(e){e.preventDefault();const n=t.parentElement;t.setAttribute("origin-square",n.id),t.setAttribute("clicked","true"),console.log(`[${e.type}] Lifted`,t.id,"from",n.id)}function o(e){if(e.preventDefault(),"true"!==t.getAttribute("clicked"))return;const n=s(e);t.style.left=n.x-50+"px",t.style.top=n.y-50+"px"}function i(n){if("true"!==t.getAttribute("clicked"))return;const o=s(n),i=t.getAttribute("origin-square");e.enableTrack(c(i),!1),t.setAttribute("clicked","false"),r(!1);const a=document.elementFromPoint(o.x,o.y);r(!0),((t,n)=>{console.log("Dropped:",t.id,n.id),e.enableTrack(c(n.id),!0),n.appendChild(t)})(t,a),console.log(`[${n.type}] Dropped`,t.id,"from",i)}t.addEventListener("mousedown",n),t.addEventListener("mousemove",o),t.addEventListener("mouseup",i),t.addEventListener("touchstart",n),t.addEventListener("touchmove",o),t.addEventListener("touchend",i)})),document.addEventListener("mouseup",(e=>{n=!1})),document.addEventListener("mousedown",(e=>{n=!0})),document.addEventListener("mousemove",(e=>{if(!n)return;const o=s(e);var i=t[0];for(let e=0;e<t.length;e++)"true"===t[e].getAttribute("clicked")&&(i=t[e]);i&&0!=function(e,t,n){const o=e.getBoundingClientRect(),i=o.left+o.width/2,s=o.top+o.height/2;return Math.sqrt((i-t)**2+(s-n)**2)}(i,e.clientX,e.clientY)&&(i.style.left=o.x-50+"px",i.style.top=o.y-50+"px")})),i.width=window.innerWidth,i.height=window.innerHeight,window.addEventListener("resize",(()=>{const e=i.height,n=i.width;i.width=window.innerWidth,i.height=window.innerHeight,t.forEach((t=>{t.style.left=parseFloat(t.style.left)/n*i.width+"px",t.style.top=parseFloat(t.style.top)/e*i.height+"px"}))}))}(),h()}))}function h(){if(requestAnimationFrame(h),n)for(let n=0;n<t;n++){const t=document.getElementById(`square-${n}`);t&&(t.style.backgroundColor=e.getFrequencyColor(n))}}document.addEventListener("DOMContentLoaded",(()=>{u()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L3NyYy9tYWluLnRzIiwid2VicGFjazovL3NxdWFyZXMvLi9zcmMvYXVkaW8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXVkaW9Db250cm9sbGVyIH0gZnJvbSBcIi4vYXVkaW9cIjtcblxuY29uc3QgYWMgPSBuZXcgQXVkaW9Db250cm9sbGVyKCk7XG5jb25zdCBuU3F1YXJlcyA9IDE2O1xuY29uc3QgbkJhbGxzID0gNDtcbnZhciBpc0luaXRpYXRlZCA9IGZhbHNlO1xudmFyIGZ4RW5hYmxlID0gZmFsc2U7XG52YXIgcHJvZ3Jlc3NCYXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG52YXIgd2luZG93U2l6ZSA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuXG5mdW5jdGlvbiBjcmVhdGVVSUVsZW1lbnRzKCkge1xuICAvLyBDcmVhdGUgRlggdWlcbiAgaWYgKGZ4RW5hYmxlKSB7XG4gICAgY29uc3QgZnhkaXYgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZnhcIiwgXCJmeFwiLCBkb2N1bWVudC5ib2R5KTtcbiAgICBmeGRpdi5zdHlsZS5kaXNwbGF5ID0gZnhFbmFibGUgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICBjb25zdCBmeDEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZngxXCIsIFwiZngxXCIsIGZ4ZGl2KTtcbiAgICBmeDEuaW5uZXJUZXh0ID0gXCLwn4yKXCI7XG4gICAgY29uc3QgZnhzcGFjZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZnhzcGFjZXJcIiwgXCJmeHNwYWNlclwiLCBmeGRpdik7XG4gICAgY29uc3QgZngyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZ4MlwiLCBcImZ4MlwiLCBmeGRpdik7XG4gICAgZngyLmlubmVyVGV4dCA9IFwi8J+VpVwiO1xuICB9XG5cbiAgY29uc3QgbWF0cml4ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcIm1hdHJpeFwiLCBcIm1hdHJpeFwiLCBkb2N1bWVudC5ib2R5KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuU3F1YXJlczsgaSsrKSB7XG4gICAgY3JlYXRlRWxlbWVudChcImRpdlwiLCBcInNxdWFyZVwiLCBgc3F1YXJlLSR7aX1gLCBtYXRyaXgpO1xuICB9XG5cbiAgY29uc3QgYmFsbEhvbWUgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiYmFsbGhvbWVcIiwgXCJiYWxsaG9tZVwiLCBkb2N1bWVudC5ib2R5KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuQmFsbHM7IGkrKykge1xuICAgIGNvbnN0IGJhbGwgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiYmFsbFwiLCBgYmFsbC0ke2l9YCwgYmFsbEhvbWUpO1xuICAgIGJhbGwuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICBiYWxsLmlubmVyVGV4dCA9IGDwn4yIYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0VUlMb2dpYygpIHtcbiAgY29uc3QgYmFsbHM6IE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5iYWxsXCIpO1xuICB2YXIgbW91c2VEb3duID0gZmFsc2U7XG4gIC8vIERyb3BzIGEgYmFsbCBpbnRvIGEgdGFyZ2V0IGVsZW1lbnQgYW5kIG11dGVzIHRoZSB0cmFjayB0aGUgYmFsbCBjYW1lIGZyb21cbiAgY29uc3QgZHJvcEJhbGwgPSAoYmFsbDogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkRyb3BwZWQ6XCIsIGJhbGwuaWQsIHRhcmdldC5pZCk7XG4gICAgYWMuZW5hYmxlVHJhY2soZ2V0U3F1YXJlSWQodGFyZ2V0LmlkKSwgdHJ1ZSk7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKGJhbGwpO1xuICB9O1xuXG4gIGJhbGxzLmZvckVhY2goKGJhbGwpID0+IHtcbiAgICAvLyBDb21tb24gZnVuY3Rpb24gZm9yIHN0YXJ0aW5nIHRoZSBkcmFnXG4gICAgZnVuY3Rpb24gc3RhcnREcmFnKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBvcmlnaW5TcXVhcmUgPSBiYWxsLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBiYWxsLnNldEF0dHJpYnV0ZShcIm9yaWdpbi1zcXVhcmVcIiwgb3JpZ2luU3F1YXJlLmlkKTtcbiAgICAgIGJhbGwuc2V0QXR0cmlidXRlKFwiY2xpY2tlZFwiLCBcInRydWVcIik7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7ZS50eXBlfV0gTGlmdGVkYCwgYmFsbC5pZCwgXCJmcm9tXCIsIG9yaWdpblNxdWFyZS5pZCk7XG4gICAgfVxuXG4gICAgLy8gQ29tbW9uIGZ1bmN0aW9uIGZvciBkcmFnZ2luZ1xuICAgIGZ1bmN0aW9uIGRvRHJhZyhlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGJhbGwuZ2V0QXR0cmlidXRlKFwiY2xpY2tlZFwiKSAhPT0gXCJ0cnVlXCIpIHJldHVybjtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UG9zaXRpb25Gcm9tRXZlbnQoZSk7XG4gICAgICBiYWxsLnN0eWxlLmxlZnQgPSBgJHtwb3NpdGlvbi54IC0gNTB9cHhgO1xuICAgICAgYmFsbC5zdHlsZS50b3AgPSBgJHtwb3NpdGlvbi55IC0gNTB9cHhgO1xuICAgICAgLy8gY29uc29sZS5sb2coYFske2UudHlwZX1dIE1vdmluZy9EcmFnZ2luZ2AsIGJhbGwuaWQpO1xuICAgIH1cblxuICAgIC8vIENvbW1vbiBmdW5jdGlvbiBmb3IgZW5kaW5nIHRoZSBkcmFnXG4gICAgZnVuY3Rpb24gZW5kRHJhZyhlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xuICAgICAgaWYgKGJhbGwuZ2V0QXR0cmlidXRlKFwiY2xpY2tlZFwiKSAhPT0gXCJ0cnVlXCIpIHJldHVybjtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UG9zaXRpb25Gcm9tRXZlbnQoZSk7XG4gICAgICBjb25zdCBvcmlnaW5TcXVhcmVJZCA9IGJhbGwuZ2V0QXR0cmlidXRlKFwib3JpZ2luLXNxdWFyZVwiKTtcbiAgICAgIGFjLmVuYWJsZVRyYWNrKGdldFNxdWFyZUlkKG9yaWdpblNxdWFyZUlkKSwgZmFsc2UpO1xuICAgICAgYmFsbC5zZXRBdHRyaWJ1dGUoXCJjbGlja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICBzaG93QmFsbHMoZmFsc2UpO1xuICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoXG4gICAgICAgIHBvc2l0aW9uLngsXG4gICAgICAgIHBvc2l0aW9uLnlcbiAgICAgICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBzaG93QmFsbHModHJ1ZSk7XG4gICAgICBkcm9wQmFsbChiYWxsLCB0YXJnZXRFbGVtZW50KTtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtlLnR5cGV9XSBEcm9wcGVkYCwgYmFsbC5pZCwgXCJmcm9tXCIsIG9yaWdpblNxdWFyZUlkKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgYmFsbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHN0YXJ0RHJhZyk7XG4gICAgYmFsbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGRvRHJhZyk7XG4gICAgYmFsbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBlbmREcmFnKTtcbiAgICBiYWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHN0YXJ0RHJhZyk7XG4gICAgYmFsbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGRvRHJhZyk7XG4gICAgYmFsbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgZW5kRHJhZyk7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZSkgPT4ge1xuICAgIG1vdXNlRG93biA9IGZhbHNlO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgIG1vdXNlRG93biA9IHRydWU7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgaWYgKCFtb3VzZURvd24pIHJldHVybjtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGdldFBvc2l0aW9uRnJvbUV2ZW50KGUpO1xuICAgIHZhciBjbGlja2VkQmFsbDogSFRNTEVsZW1lbnQgfCBudWxsID0gYmFsbHNbMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYmFsbHNbaV0uZ2V0QXR0cmlidXRlKFwiY2xpY2tlZFwiKSA9PT0gXCJ0cnVlXCIpe1xuICAgICAgICBjbGlja2VkQmFsbCA9IGJhbGxzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNsaWNrZWRCYWxsKSByZXR1cm47XG4gICAgaWYgKGRpc3RhbmNlRnJvbUJhbGwoY2xpY2tlZEJhbGwsIGUuY2xpZW50WCwgZS5jbGllbnRZKSA9PSAwKSByZXR1cm47XG4gICAgY2xpY2tlZEJhbGwuc3R5bGUubGVmdCA9IGAke3Bvc2l0aW9uLnggLSA1MH1weGA7XG4gICAgY2xpY2tlZEJhbGwuc3R5bGUudG9wID0gYCR7cG9zaXRpb24ueSAtIDUwfXB4YDtcbiAgfSk7XG5cbiAgd2luZG93U2l6ZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICB3aW5kb3dTaXplLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgIGNvbnN0IG9sZEhlaWdodCA9IHdpbmRvd1NpemUuaGVpZ2h0O1xuICAgIGNvbnN0IG9sZFdpZHRoID0gd2luZG93U2l6ZS53aWR0aDtcbiAgICB3aW5kb3dTaXplLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgd2luZG93U2l6ZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgYmFsbHMuZm9yRWFjaCgoYmFsbCkgPT4ge1xuICAgICAgYmFsbC5zdHlsZS5sZWZ0ID0gYCR7KHBhcnNlRmxvYXQoYmFsbC5zdHlsZS5sZWZ0KSAvIG9sZFdpZHRoKSAqIHdpbmRvd1NpemUud2lkdGh9cHhgO1xuICAgICAgYmFsbC5zdHlsZS50b3AgPSBgJHsocGFyc2VGbG9hdChiYWxsLnN0eWxlLnRvcCkgLyBvbGRIZWlnaHQpICogd2luZG93U2l6ZS5oZWlnaHR9cHhgO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VGcm9tQmFsbChiYWxsOiBIVE1MRWxlbWVudCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgY29uc3QgcmVjdCA9IGJhbGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGJhbGxYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XG4gIGNvbnN0IGJhbGxZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XG4gIHJldHVybiBNYXRoLnNxcnQoKGJhbGxYIC0geCkgKiogMiArIChiYWxsWSAtIHkpICoqIDIpO1xufVxuXG4vLyBIZWxwZXIgdG8gZXh0cmFjdCBwb3NpdGlvbiBmcm9tIGV2ZW50XG5mdW5jdGlvbiBnZXRQb3NpdGlvbkZyb21FdmVudChlOiBhbnkpIHtcbiAgaWYgKFxuICAgIHR5cGVvZiBUb3VjaEV2ZW50ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQgJiZcbiAgICAoZS50b3VjaGVzIHx8IGUuY2hhbmdlZFRvdWNoZXMpXG4gICkge1xuICAgIGNvbnN0IHRvdWNoZXMgPSBlLnRvdWNoZXMubGVuZ3RoID4gMCA/IGUudG91Y2hlcyA6IGUuY2hhbmdlZFRvdWNoZXM7XG4gICAgcmV0dXJuIHsgeDogdG91Y2hlc1swXS5jbGllbnRYLCB5OiB0b3VjaGVzWzBdLmNsaWVudFkgfTtcbiAgfSBlbHNlIGlmIChlIGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgIHJldHVybiB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZXZlbnQgdHlwZVwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0RlhVSSgpIHtcbiAgaWYgKCFmeEVuYWJsZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBmeDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ4MVwiKTtcbiAgaWYgKCFmeDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmeDEgbm90IGZvdW5kXCIpO1xuICB9XG4gIGZ4MS5kcmFnZ2FibGUgPSB0cnVlO1xuICBjb25zdCBmeDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ4MlwiKTtcbiAgZngxPy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IG5vcm1hbGl6ZWRYWShlLngsIGUueSk7XG4gICAgYWMuZngxKHgsIHkpO1xuICAgIGNvbnNvbGUubG9nKFwiZHJhZ3N0YXJ0XCIpO1xuICB9KTtcbiAgZngxPy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ1wiLCAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBub3JtYWxpemVkWFkoZS54LCBlLnkpO1xuICAgIGFjLmZ4MSh4LCB5KTtcbiAgICBjb25zb2xlLmxvZyhcImRyYWdtb3ZlXCIpO1xuICB9KTtcbiAgZngxPy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgYWMuZngxKDAsIDApO1xuICAgIGNvbnNvbGUubG9nKFwiZHJhZ2VuZFwiKTtcbiAgfSk7XG4gIGZ4MT8uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgKGU6IFRvdWNoRXZlbnQpID0+IHtcbiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gbm9ybWFsaXplZFhZKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgIGFjLmZ4MSh4LCB5KTtcbiAgICBjb25zb2xlLmxvZyhcInRvdWNoc3RhcnRcIik7XG4gIH0pO1xuICBmeDE/LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgKGU6IFRvdWNoRXZlbnQpID0+IHtcbiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gbm9ybWFsaXplZFhZKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgIGFjLmZ4MSh4LCB5KTtcbiAgICBjb25zb2xlLmxvZyhcInRvdWNobW92ZVwiKTtcbiAgfSk7XG4gIGZ4MT8uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgaWYgKGUudG91Y2hlcy5sZW5ndGggIT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhYy5meDEoMCwgMCk7XG4gICAgY29uc29sZS5sb2coXCJ0b3VjaGVuZFwiKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoXG4gIHRhZzogc3RyaW5nLFxuICBjbHM6IHN0cmluZyxcbiAgaWQ6IHN0cmluZyxcbiAgcGFyZW50OiBIVE1MRWxlbWVudFxuKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbHMpO1xuICBlbGVtZW50LmlkID0gaWQ7XG4gIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHNob3dCYWxscyhzaG93OiBib29sZWFuKSB7XG4gIGNvbnN0IGJhbGxzOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYmFsbFwiKTtcbiAgYmFsbHMuZm9yRWFjaCgoYmFsbCkgPT4ge1xuICAgIGJhbGwuc3R5bGUuZGlzcGxheSA9IHNob3cgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFNxdWFyZUlkKGlkOiBzdHJpbmcgfCBudWxsKTogbnVtYmVyIHtcbiAgaWYgKCFpZCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBjb25zdCBwYXJ0cyA9IGlkLnNwbGl0KFwic3F1YXJlLVwiKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIHBhcnNlSW50KHBhcnRzWzFdKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplZFhZKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgcmV0dXJuIHsgeDogeCAvIHdpZHRoLCB5OiB5IC8gaGVpZ2h0IH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXRBdWRpbygpIHtcbiAgaWYgKGlzSW5pdGlhdGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGF3YWl0IGFjLmluaXRBdWRpbyhbXG4gICAgXCJzdGVtcy80LW9uLWZsb29yLndhdlwiLFxuICAgIFwic3RlbXMvZG5iLTEyNC53YXZcIixcbiAgICBcInN0ZW1zL2RydW1zLndhdlwiLFxuICAgIFwic3RlbXMvaGF0cy53YXZcIixcbiAgICBcInN0ZW1zL2tpY2staGF0LndhdlwiLFxuICAgIFwic3RlbXMvdG9tcy53YXZcIixcbiAgICBcInN0ZW1zL3Ntb290aC1jaG9yZHMud2F2XCIsXG4gICAgXCJzdGVtcy9iYXNzLndhdlwiLFxuICAgIFwic3RlbXMvYnp6ei53YXZcIixcbiAgICBcInN0ZW1zL2d1aXRhci53YXZcIixcbiAgICBcInN0ZW1zL2RuYi0xMjQud2F2XCIsXG4gICAgXCJzdGVtcy9kcnVtcy53YXZcIixcbiAgICBcInN0ZW1zL2hhdHMud2F2XCIsXG4gICAgXCJzdGVtcy9rZWVwLW9uLndhdlwiLFxuICAgIFwic3RlbXMvd2hhdC11LWRvaW4tdG8tbWUud2F2XCIsXG4gICAgXCJzdGVtcy9leHRhY3kud2F2XCIsXG4gIF0pO1xuICBpc0luaXRpYXRlZCA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHNwaW5uZXIoc2hvdzogYm9vbGVhbikge1xuICBpZiAoc2hvdykge1xuICAgIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJzcGlubmVyXCIsIFwic3Bpbm5lclwiLCBkb2N1bWVudC5ib2R5KTtcbiAgICBwcm9ncmVzc0JhciA9IGNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInByb2dyZXNzXCIsXG4gICAgICBcInByb2dyZXNzXCIsXG4gICAgICBcInByb2dyZXNzXCIsXG4gICAgICBkb2N1bWVudC5ib2R5XG4gICAgKTtcbiAgICBzZXRUaW1lb3V0KHNldFByb2dyZXNzLCAxMDApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIik7XG4gICAgc3Bpbm5lcj8ucmVtb3ZlKCk7XG4gICAgcHJvZ3Jlc3NCYXI/LnJlbW92ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldFByb2dyZXNzKCkge1xuICBpZiAoIXByb2dyZXNzQmFyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHAgPSBhYy5sb2FkZWRGaWxlcyAvIDE2O1xuICBjb25zb2xlLmxvZyhcIlByb2dyZXNzOlwiLCBwKTtcbiAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgcC50b1N0cmluZygpKTtcbiAgaWYgKHAgIT0gMSkge1xuICAgIHNldFRpbWVvdXQoc2V0UHJvZ3Jlc3MsIDEwMCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3RhcnRCdXR0b24oKSB7XG4gIGNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFydC1idXR0b25cIik7XG4gIGNvbnN0IGluZm8xID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmZvLTFcIik7XG4gIGNvbnN0IGluZm8yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmZvLTJcIik7XG4gIHN0YXJ0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgIHN0YXJ0QnV0dG9uLnJlbW92ZSgpO1xuICAgIGluZm8xPy5yZW1vdmUoKTtcbiAgICBpbmZvMj8ucmVtb3ZlKCk7XG4gICAgc3Bpbm5lcih0cnVlKTtcbiAgICBhd2FpdCBpbml0QXVkaW8oKTtcbiAgICBzcGlubmVyKGZhbHNlKTtcbiAgICBjcmVhdGVVSUVsZW1lbnRzKCk7XG4gICAgaW5pdFVJTG9naWMoKTtcbiAgICBpbml0RlhVSSgpO1xuICAgIGRyYXcoKTtcbiAgfSk7XG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgY3JlYXRlU3RhcnRCdXR0b24oKTtcbn0pO1xuXG5mdW5jdGlvbiBkcmF3KCkge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gIGlmICghaXNJbml0aWF0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuU3F1YXJlczsgaSsrKSB7XG4gICAgY29uc3Qgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNxdWFyZS0ke2l9YCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHNxdWFyZSkge1xuICAgICAgc3F1YXJlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFjLmdldEZyZXF1ZW5jeUNvbG9yKGkpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEF1ZGlvQ29udHJvbGxlciB7XG4gIHByaXZhdGUgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQ7XG4gIHByaXZhdGUgdHJhY2tzOiB7XG4gICAgc291cmNlTm9kZTogQXVkaW9CdWZmZXJTb3VyY2VOb2RlO1xuICAgIGdhaW5Ob2RlOiBHYWluTm9kZTtcbiAgICBhbmFseXNlck5vZGU6IEFuYWx5c2VyTm9kZTtcbiAgfVtdID0gW107XG4gIHByaXZhdGUgc2xvd0F2ZXJhZ2U6IG51bWJlciA9IDM5OyAvLyBvcmFuZ2VcbiAgcHJpdmF0ZSBmeDFhOiBCaXF1YWRGaWx0ZXJOb2RlIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZngxYjogRGVsYXlOb2RlIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBsb2FkZWRGaWxlczogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgfVxuXG4gIGFzeW5jIGluaXRBdWRpbyhmaWxlTmFtZXM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGZpbGVOYW1lcy5sZW5ndGggIT09IDE2KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCAxNiBhdWRpbyBmaWxlcy5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZVByb21pc2VzID0gZmlsZU5hbWVzLm1hcCgoZmlsZU5hbWUpID0+XG4gICAgICB0aGlzLmxvYWRBdWRpb0ZpbGUoZmlsZU5hbWUpXG4gICAgKTtcblxuICAgIGNvbnN0IGF1ZGlvQnVmZmVycyA9IGF3YWl0IFByb21pc2UuYWxsKGZpbGVQcm9taXNlcyk7XG5cbiAgICBhdWRpb0J1ZmZlcnMuZm9yRWFjaCgoYnVmZmVyKSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2VOb2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBjb25zdCBnYWluTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcblxuICAgICAgc291cmNlTm9kZS5idWZmZXIgPSBidWZmZXI7XG4gICAgICBnYWluTm9kZS5nYWluLnZhbHVlID0gMDsgLy8gU3RhcnQgbXV0ZWRcbiAgICAgIHNvdXJjZU5vZGUuY29ubmVjdChnYWluTm9kZSk7XG5cbiAgICAgIC8vIHNldCB1cCBhbiBhbmFseXNlciBzbyB3ZSBjYW4gZG8gY29vbCB2aXN1YWxzXG4gICAgICBjb25zdCBhbmFseXNlck5vZGUgPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgYW5hbHlzZXJOb2RlLmZmdFNpemUgPSAyMDQ4O1xuICAgICAgZ2Fpbk5vZGUuY29ubmVjdChhbmFseXNlck5vZGUpO1xuXG4gICAgICAvLyBzZXQgdXAgZnggbm9kZXNcbiAgICAgIHRoaXMuZngxYSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO1xuICAgICAgdGhpcy5meDFhLnR5cGUgPSBcImhpZ2hwYXNzXCI7XG4gICAgICB0aGlzLmZ4MWEuZnJlcXVlbmN5LnZhbHVlID0gMTAwMDtcbiAgICAgIHRoaXMuZngxYS5nYWluLnZhbHVlID0gMDtcbiAgICAgIGdhaW5Ob2RlLmNvbm5lY3QodGhpcy5meDFhKTtcblxuICAgICAgdGhpcy5meDFiID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlRGVsYXkoKTtcbiAgICAgIHRoaXMuZngxYi5kZWxheVRpbWUudmFsdWUgPSAwOyAvLyBwYXNzIHRocm91Z2hcbiAgICAgIHRoaXMuZngxYS5jb25uZWN0KHRoaXMuZngxYik7XG5cbiAgICAgIC8vIGZvciBub3cganVzdCBieXBhc3MgdGhlIEZYIG5vZGVzIC0gbm90IGltcGxlbWVudGVkIHByb3Blcmx5IHlldFxuICAgICAgLy8gICB0aGlzLmZ4MWIuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICBnYWluTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcblxuICAgICAgdGhpcy50cmFja3MucHVzaCh7IHNvdXJjZU5vZGUsIGdhaW5Ob2RlLCBhbmFseXNlck5vZGUgfSk7XG5cbiAgICAgIHNvdXJjZU5vZGUubG9vcCA9IHRydWU7XG4gICAgICBzb3VyY2VOb2RlLnN0YXJ0KDApOyAvLyBQbGF5IGltbWVkaWF0ZWx5IGluIHN5bmNcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZEF1ZGlvRmlsZSh1cmw6IHN0cmluZyk6IFByb21pc2U8QXVkaW9CdWZmZXI+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgIHRoaXMubG9hZGVkRmlsZXMrKztcbiAgICBjb25zb2xlLmxvZyhgTG9hZGVkICR7dGhpcy5sb2FkZWRGaWxlc30gZmlsZXMuYClcbiAgICByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTtcbiAgfVxuXG4gIGdldEZyZXF1ZW5jeUNvbG9yKHRyYWNrOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGdhaW5Ob2RlID0gdGhpcy50cmFja3NbdHJhY2tdLmdhaW5Ob2RlO1xuICAgIGlmIChnYWluTm9kZS5nYWluLnZhbHVlID09PSAwKSB7XG4gICAgICByZXR1cm4gYGhzbCgke3RoaXMuc2xvd0F2ZXJhZ2UgKyB0cmFja30sIDEwMCUsIDUwJSlgO1xuICAgIH1cbiAgICBjb25zdCBhbmFseXNlck5vZGUgPSB0aGlzLnRyYWNrc1t0cmFja10uYW5hbHlzZXJOb2RlO1xuICAgIGNvbnN0IGRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyTm9kZS5mcmVxdWVuY3lCaW5Db3VudCk7XG4gICAgYW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGRhdGFBcnJheSk7XG5cbiAgICAvLyBnZXQgdGhlIGhpZ2hlc3QgZnJlcXVlbmN5XG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4uZGF0YUFycmF5KTtcbiAgICBjb25zdCBtYXhJbmRleCA9IGRhdGFBcnJheS5pbmRleE9mKG1heCk7XG4gICAgdGhpcy51cGRhdGVTbG93QXZlcmFnZShtYXhJbmRleCk7XG5cbiAgICBjb25zdCBodWUgPSB0aGlzLnNsb3dBdmVyYWdlICsgdHJhY2sgKyAoKG1heEluZGV4ICogMTApICUgMjQwKTtcbiAgICByZXR1cm4gYGhzbCgke2h1ZX0sIDEwMCUsIDUwJSlgO1xuICB9XG5cbiAgdXBkYXRlU2xvd0F2ZXJhZ2UodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuc2xvd0F2ZXJhZ2UgPSB0aGlzLnNsb3dBdmVyYWdlICsgKCh2YWx1ZSAqIDAuMDAxKSAlIDI0MCk7XG4gIH1cblxuICBlbmFibGVUcmFjayh0cmFja051bWJlcjogbnVtYmVyLCBlbmFibGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodHJhY2tOdW1iZXIgPT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRyYWNrTnVtYmVyID49IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcmFjayAke3RyYWNrTnVtYmVyfSBkb2VzIG5vdCBleGlzdC5gKTtcbiAgICB9XG4gICAgdGhpcy50cmFja3NbdHJhY2tOdW1iZXJdLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSBlbmFibGUgPyAwLjUgOiAwO1xuICB9XG5cbiAgbXV0ZUFsbCgpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmVuYWJsZVRyYWNrKGksIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmeDEoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICBpZiAoeCAhPSAwICYmIHkgIT0gMCkge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuZngxYSB8fCAhdGhpcy5meDFiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiZngxIGNhbGxlZCB3aXRoIHg6XCIsIHgsIFwieTpcIiwgeSk7XG4gICAgY29uc29sZS5sb2coXCJBdWRpb0NvbnRleHQgc3RhdGU6XCIsIHRoaXMuYXVkaW9Db250ZXh0LnN0YXRlKTtcbiAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgdGltZTpcIiwgdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUpO1xuXG4gICAgY29uc29sZS5sb2coXCJBcHBseWluZyBnYWluOlwiLCB4ICogMjUsIFwidG8gZngxYVwiKTtcbiAgICBjb25zdCBnYWluID0gTWF0aC5mbG9vcih4ICogMTApO1xuICAgIHRoaXMuZngxYS5nYWluLnNldFZhbHVlQXRUaW1lKGdhaW4sIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICB0aGlzLmZ4MWIuZGVsYXlUaW1lLnNldFZhbHVlQXRUaW1lKHksIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lKTtcblxuICAgIGNvbnNvbGUubG9nKHRoaXMuZngxYSwgdGhpcy5meDFiKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImFjIiwiYXVkaW9Db250ZXh0IiwidHJhY2tzIiwic2xvd0F2ZXJhZ2UiLCJmeDFhIiwiZngxYiIsImxvYWRlZEZpbGVzIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiQXVkaW9Db250ZXh0IiwiaW5pdEF1ZGlvIiwiZmlsZU5hbWVzIiwibGVuZ3RoIiwiRXJyb3IiLCJmaWxlUHJvbWlzZXMiLCJtYXAiLCJmaWxlTmFtZSIsImxvYWRBdWRpb0ZpbGUiLCJQcm9taXNlIiwiYWxsIiwiZm9yRWFjaCIsImJ1ZmZlciIsInNvdXJjZU5vZGUiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJnYWluTm9kZSIsImNyZWF0ZUdhaW4iLCJnYWluIiwidmFsdWUiLCJjb25uZWN0IiwiYW5hbHlzZXJOb2RlIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwiY3JlYXRlQmlxdWFkRmlsdGVyIiwidHlwZSIsImZyZXF1ZW5jeSIsImNyZWF0ZURlbGF5IiwiZGVsYXlUaW1lIiwiZGVzdGluYXRpb24iLCJwdXNoIiwibG9vcCIsInN0YXJ0IiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsImFycmF5QnVmZmVyIiwiY29uc29sZSIsImxvZyIsImRlY29kZUF1ZGlvRGF0YSIsImdldEZyZXF1ZW5jeUNvbG9yIiwidHJhY2siLCJkYXRhQXJyYXkiLCJVaW50OEFycmF5IiwiZnJlcXVlbmN5QmluQ291bnQiLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsIm1heCIsIk1hdGgiLCJtYXhJbmRleCIsImluZGV4T2YiLCJ1cGRhdGVTbG93QXZlcmFnZSIsImVuYWJsZVRyYWNrIiwidHJhY2tOdW1iZXIiLCJlbmFibGUiLCJtdXRlQWxsIiwiaSIsImZ4MSIsIngiLCJ5IiwicmFuZG9tIiwic3RhdGUiLCJjdXJyZW50VGltZSIsImZsb29yIiwic2V0VmFsdWVBdFRpbWUiLCJuU3F1YXJlcyIsImlzSW5pdGlhdGVkIiwicHJvZ3Jlc3NCYXIiLCJ3aW5kb3dTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRQb3NpdGlvbkZyb21FdmVudCIsImUiLCJUb3VjaEV2ZW50IiwidG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJNb3VzZUV2ZW50IiwiY3JlYXRlRWxlbWVudCIsInRhZyIsImNscyIsImlkIiwicGFyZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJzaG93QmFsbHMiLCJzaG93IiwicXVlcnlTZWxlY3RvckFsbCIsImJhbGwiLCJzdHlsZSIsImRpc3BsYXkiLCJnZXRTcXVhcmVJZCIsInBhcnRzIiwic3BsaXQiLCJwYXJzZUludCIsInNwaW5uZXIiLCJib2R5Iiwic2V0VGltZW91dCIsInNldFByb2dyZXNzIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmUiLCJwIiwic2V0QXR0cmlidXRlIiwidG9TdHJpbmciLCJjcmVhdGVTdGFydEJ1dHRvbiIsInN0YXJ0QnV0dG9uIiwiaW5mbzEiLCJpbmZvMiIsImFkZEV2ZW50TGlzdGVuZXIiLCJhc3luYyIsIm1hdHJpeCIsImJhbGxIb21lIiwiZHJhZ2dhYmxlIiwiaW5uZXJUZXh0IiwiY3JlYXRlVUlFbGVtZW50cyIsImJhbGxzIiwibW91c2VEb3duIiwic3RhcnREcmFnIiwicHJldmVudERlZmF1bHQiLCJvcmlnaW5TcXVhcmUiLCJwYXJlbnRFbGVtZW50IiwiZG9EcmFnIiwiZ2V0QXR0cmlidXRlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwiZW5kRHJhZyIsIm9yaWdpblNxdWFyZUlkIiwidGFyZ2V0RWxlbWVudCIsImVsZW1lbnRGcm9tUG9pbnQiLCJ0YXJnZXQiLCJkcm9wQmFsbCIsImNsaWNrZWRCYWxsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJhbGxYIiwiYmFsbFkiLCJzcXJ0IiwiZGlzdGFuY2VGcm9tQmFsbCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm9sZEhlaWdodCIsIm9sZFdpZHRoIiwicGFyc2VGbG9hdCIsImluaXRVSUxvZ2ljIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNxdWFyZSIsImJhY2tncm91bmRDb2xvciJdLCJzb3VyY2VSb290IjoiIn0=